# Git information
KARBOR_REPO=${KARBOR_REPO:-https://opendev.org/openstack/karbor/}
KARBOR_DIR=$DEST/karbor
KARBOR_BRANCH=${KARBOR_BRANCH:-master}
KARBORCLIENT_REPO=${KARBORCLIENT_REPO:-"https://opendev.org/openstack/python-karborclient/"}
KARBORCLIENT_DIR=$DEST/python-karborclient
KARBORCLIENT_BRANCH=${KARBORCLIENT_BRANCH:-master}

# common variables
KARBOR_SERVICE_NAME=karbor
KARBOR_SERVICE_TYPE=data-protect
KARBOR_CONF_DIR=${KARBOR_CONF_DIR:-/etc/karbor}
KARBOR_BIN_DIR=$(get_python_exec_prefix)
KARBOR_CONF=$KARBOR_CONF_DIR/karbor.conf
KARBOR_TRUSTEE_USER=karbor
KARBOR_SCHEDULED_MIN_INTERVAL=60
KARBOR_SCHEDULED_MIN_WINDOW_TIME=20
KARBOR_SCHEDULED_MAX_WINDOW_TIME=30

KARBOR_API_UWSGI_CONF=$KARBOR_CONF_DIR/karbor-uwsgi.ini
KARBOR_API_UWSGI=$KARBOR_BIN_DIR/karbor-wsgi

# karbor rest api
KARBOR_API=$KARBOR_DIR/karbor/cmd/api.py
KARBOR_API_APACHE_TEMPLATE=$KARBOR_DIR/devstack/files/apache-karbor-api.template

KARBOR_API_LISTEN_ADDRESS=${KARBOR_API_LISTEN_ADDRESS:-0.0.0.0}
KARBOR_API_HOST=${KARBOR_API_HOST:-$SERVICE_HOST}
KARBOR_API_PORT=${KARBOR_API_PORT:-8799}
KARBOR_API_PROTOCOL=${KARBOR_API_PROTOCOL:-$SERVICE_PROTOCOL}
if [[ "$WSGI_MODE" == "uwsgi" ]]; then
    KARBOR_DEPLOY=uwsgi
    KARBOR_API_ENDPOINT="$KARBOR_API_PROTOCOL://$KARBOR_API_HOST/$KARBOR_SERVICE_TYPE/v1/\$(project_id)s"
else
    KARBOR_DEPLOY=mod_wsgi
    KARBOR_API_ENDPOINT="$KARBOR_API_PROTOCOL://$KARBOR_API_HOST:$KARBOR_API_PORT/v1/\$(project_id)s"
fi


KARBOR_AUTH_CACHE_DIR=${KARBOR_AUTH_CACHE_DIR:-/var/cache/karbor}

export PYTHONPATH=$PYTHONPATH:$KARBOR_DIR
